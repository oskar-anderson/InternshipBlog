<!doctype html><html lang=en><head><link rel=canonical href=https://oskar-anderson.github.io/InternshipBlog/content/CRUD-loomine-ja-AB-muutmine/><title>CRUD loomine ja AB muutmine - My Internship Blog</title><link type=text/css href=https://oskar-anderson.github.io/InternshipBlog/css/bootstrap.min.css rel=stylesheet crossorigin=anonymous><link type=text/css href=https://oskar-anderson.github.io/InternshipBlog/css/main-layout.css rel=stylesheet crossorigin=anonymous><link rel=icon type=image/png href=https://oskar-anderson.github.io/InternshipBlog/favicon.png crossorigin=anonymous></head><body><header class=site-header><div class=container><div class=site-title-wrapper><h1 class=site-title><a href=https://oskar-anderson.github.io/InternshipBlog/>Home</a></h1></div></div></header><header class=post-header><h1 class=post-title itemprop="name headline">CRUD loomine ja AB muutmine</h1></header><div class=container><div class=row><div class="col-sm-9 blog-main"><article class=blog-post><header><h2 class=blog-post-title dir=auto><a href=https://oskar-anderson.github.io/InternshipBlog/content/CRUD-loomine-ja-AB-muutmine/>CRUD loomine ja AB muutmine</a></h2><p class=blog-post-meta><time datetime=2021-04-24>2021-04-24</time>
Karl Oskar Anderson
<span class="fas fa-tag" aria-hidden=true></span>&nbsp;<a href=/InternshipBlog/tags/praktika/ rel=tag>praktika</a> <a href=/InternshipBlog/tags/riina-tallo/ rel=tag>Riina Tallo</a></p></header><h2 id=8-nädal>8. nädal</h2><h3 id=1904>19.04</h3><p>Programmeerisin&mldr;</p><p>Sensorite mõõtmiste andmeid kujutatakse tabelis, aga sensori erinevaid andmeid on liiga palju, et nad tabelisse ilusti ära mahuksid. Algne idee oli panna sensorite peal lingid, mis avavad modal elemendi sensori andmetega. Paraku selgus, et collapsable element oleks parem valik koodi struktuuri ja kasutajaliidese poolest. Collapsable kasutusele võtmiseks tuleb tabel element asendada grid elemendiga.</p><h3 id=2004>20.04</h3><p>Uurisin portatiivset sensorit. Sain sensori võrgus tööle muutes IP-aadressi. Lisaks võis probleem seisneda selles, et ethernet ühendus vajab seadme ühendamist laadjaga. Ethernet ühendus jääb arusaamatuks - seadmel on ka USB, mis lisaks andmevahetusele ka laeb seadet. Ethernet ühendus lubab seadme veebiliidesest andmeid vaadata ja seadistusi muuta, aga kõike seda saab ka seadmes endas teha. Seadme täisvõimsuses kasutamiseks läheb vaja Comet Vision tarkvara.</p><p>Jääb arusaamatuks, kas seade on võimeline AB-ga suhtluseks. SOAP protokolli toetus puudub, aga alternatiivina on mingi data link võimalus - mina ei ole data linkist midagi kuulnud. Seade võib osutuda mulle andmete genereerimise ja AB suhtluse testimise eesmärkidel kasulikuks.</p><p>Exportisin AB sql andmed ja struktuuri. Ma ei tea täpselt, mis edasi teha - kooliprojektides anti AB server ette ja andmete migratsiooniga kokku ei puudutud.</p><h3 id=2104>21.04</h3><p>Proovin kasutada Käveri õpetatud tehnikat - teha andmebaas C# Entity Framework ORM-iga ja kasutada Razor Pages generaatorit CRUD baaslehekülgede loomiseks ja kopeerida genereeritud html päris PHP lahendusele ümber.</p><h3 id=2204>22.04</h3><p>Esines probleeme portatiivse sensoriga:</p><ul><li>Kontorivõrgus osutus protatiivse sensori IP aadressi probleeme - arvutiga otse ühendades seade töötas aga kontorivõrgus ei tööta, IP vahetamisel vastupidine probleem.</li><li>Cometi programmis esineb probleeme ühendatud seadme tuvastamises, programmi taaskäivitamine tundub probleemi lahendavat.</li><li>Veebiliideses konfiguratsiooni lehekülje varem olemasolev sisu on osaliselt kadunud. Põhjus teadmata. IP aadressi probleem???</li></ul><p>Sensori andmete AB jõudmise protsess töötab ajalise intervalliga - mitte nupule vajutamisega või seadme võrku ühendamisega. Portatiivsetele sensoritele andmetesse oleks vaja teistsugust lähenemist. Oleks vaja AB teha manuaalne andete üleslaadimise võimalus CSV failist.</p><h3 id=2304>23.04</h3><p>Proovisin EF AB ülesse seada.</p><p>Enamus andmeid sain käsitsi uude AB üleviimiseks kirja panna. Vanad mõõtmise andmed salvestasin teksti faili, aga nende AB saamisega tekkis probleeme:</p><ul><li>Probleem relatiivse faili asukohaga</li><li>Regex-iga andmete kättesaamine ja sõnede manipuleerimine</li><li>Insert päringu 1000 rea korraga sisestamise piirang</li></ul><p>Esines probleeme AB tabelite auto-inkrementeeritud id-dega. Nende väärtust ei tundu olevat võimalik AB andmete sisestus päringuga kaasa anda. Võimalik, et viin id UUID formaadile üle.</p><h2 id=9-nädal>9. nädal</h2><h3 id=2604>26.04</h3><p>C# ei õnnestunud MySql serverit luua. Leppisin Sqlite lokaalse andmebaasiga ja genereerisin CRUD leheküljed. Loodetavasti saan genereeritud koodi lõpliku PHP rakenduse peale ümber kopeerida.</p><h3 id=2704>27.04</h3><p>Aivar küsis portatiivset sensorit tagasi tuleseks temperatuurikontrolliks rekkates. Proovisime portatiivset sensorit AB ühendada; ei õnnestunud, aga väidetavalt kunagi on see toiminud.</p><p>Programmeerisin&mldr;</p><h3 id=2804>28.04</h3><p>Programmis on andmebaasi päringud igal pool läbisegi. Proovisin teha AB päringuteks eraldi abiklassi nagu Käveriga platvormipõhised moobilirakendused tunnis. Ideaalis on AB väljade nimed antud muutujatena ja mitte käsitsi sissekirjutatult. Tahaksin panna väljade nimed mudelite väljadele annotatsioonina külge nagu C# EF ORM-iga. Arvan, et see ei ole PHP-s võimalik. Pean AB väljade nimed andma GetNameOfFoo() funktsioonidest.</p><p>Kahjuks pean AB mudelit uuesti muutma.</p><h3 id=2904>29.04</h3><p>Programmeerisin alarms skripti ümber. Selle funktsioon jääb siiski arusaamatuks. Tundub olevat eraldiseisev käsurea programm. Programm sisaldab palju segast sõnede manipuleerimist ja printimist.
Selle programmi olemasolu tekitab segadust:</p><ul><li>Vendor kaustas on 9 teeki + Composer, aga ainult 1 teek on kasutuses ja seda kasutatakse ka ainult eraldiseisvas programmis. Lõppkasutajat see programm ei puuduta. Kelle jaoks kõik need teegid?</li><li>AB on selle programmi jaoks eraldiseisev tabel.</li></ul><p>Võimalik, et programm on poolelijäänud idee.</p><h3 id=3004>30.04</h3><p>MyTV NUC&rsquo;il esines taas probleem käivitumisega. Seadme kõvaketas sai ülekontrollitud ja seade hakkas tööle. Küsisin lõplikumaks lahenduseks abi MyTV-st. Esmaspäeval lubasid tehniku saata.</p><p>Kaotasin programmist globaalsed muutujad ära. Panin kontrolleri ja vaate pooled ühte faili kokku. Andmed pannakse kontrolleri osas &lsquo;associative array&rsquo;-sse ja laetakse lehekülje vaate poolel võtme järgi välja.</p><p>Ennem:
&lsquo;&lsquo;&lsquo;html</p><p>Praegu:
&lsquo;&lsquo;&lsquo;html</p><p>Tegu ei pruugi olla parima lahendusega, kui tahta partials vaateid luua peaks hoidma kõik kontrolleri loogika eraldi failis ja kasutama mingit malli mootori teeki nagu Twig või Latte, et lehekülje sisu õigesse kohta lisada. Praegune lahendus on siiski endisest parem.</p><p>Märt Kalmo PHP tundides me kasutasime mallide töötlemise jaoks mingit tpl.php nimelist teeki. Aga minuarust kirjutas Kalmo selle teegi ise, vähemalt mingit infot ega erilist dokumentatsiooni me selle kohta ei saanud - Kalmo näitas meile lihtsalt paar teegi kasutamise näidet ette. Leidsin teegi üles:
<a href=https://github.com/mkalmo/php-ng-template>https://github.com/mkalmo/php-ng-template</a>
<a href=https://bitbucket.org/mkalmo/php-template/>https://bitbucket.org/mkalmo/php-template/</a>
Tundub, et see ongi Kalmo enda kirjutatud. Iseenesest peaks see teek minu vajadusi rahuldama, aga ma ei saa aru, miks keegi tahaks vastutada tundmatu teegi kasutuselevõtmise eest, kui on olemas populaarsemad ja ametlikumad teegid.</p><p>Visual Studio Code (VS Code) ei hoiata deklareerimata muutujatele kasutamise eest - viga tuleb leheküljele sisenemisel. Kasutan edaspidi Jetbrains PHPStormi.</p><div class=comments><hr><h2>Comments</h2><span style=display:none><ul><li>issue-term=CRUD loomine ja AB muutmine</li><li>issue-term=2021-04-24_#1</li></ul></span><script src=https://utteranc.es/client.js repo=oskar-anderson/InternshipBlog issue-term=2021-04-24_#1 label=utterance-comment theme=github-light crossorigin=anonymous async></script></div></article></div><aside class="col-sm-3 ml-auto blog-sidebar"><h2 style=font-size:125%;text-transform:uppercase>Latest</h2><div><ul class=post-list style=list-style:square;padding-left:17px><li><a href=https://oskar-anderson.github.io/InternshipBlog/content/CRUD-loomine-ja-AB-muutmine/ itemprop=url>CRUD loomine ja AB muutmine</a></li><li><a href=https://oskar-anderson.github.io/InternshipBlog/content/segadused/ itemprop=url>Segadused</a></li><li><a href=https://oskar-anderson.github.io/InternshipBlog/content/test-01/ itemprop=url>Test - kommentaarid</a></li><li><a href=https://oskar-anderson.github.io/InternshipBlog/content/veebiliidese-edasiarendamine/ itemprop=url>Veebiliidese edasiarendamine</a></li><li><a href=https://oskar-anderson.github.io/InternshipBlog/content/blogi-markmed/ itemprop=url>Blogi märked</a></li></ul></div><h2 style=font-size:125%;text-transform:uppercase>Tags</h2><div><ul class=post-list style=list-style:square;padding-left:17px><li><a href=https://oskar-anderson.github.io/InternshipBlog/tags/m%C3%A4rkmed/>märkmed</a>
<span style=color:grey;font-size:80%>(1)</span></li><li><a href=https://oskar-anderson.github.io/InternshipBlog/tags/praktika/>praktika</a>
<span style=color:grey;font-size:80%>(5)</span></li><li><a href=https://oskar-anderson.github.io/InternshipBlog/tags/riina-tallo/>Riina Tallo</a>
<span style=color:grey;font-size:80%>(6)</span></li><li><a href=https://oskar-anderson.github.io/InternshipBlog/tags/test/>test</a>
<span style=color:grey;font-size:80%>(1)</span></li></ul></div></aside></div></div><hr><footer style=margin-bottom:20px><div class=container><a href=#></a><div class=site-title-wrapper><h1 class=site-title><a href=https://oskar-anderson.github.io/InternshipBlog/>Home</a></h1></div></div></footer></body></html>